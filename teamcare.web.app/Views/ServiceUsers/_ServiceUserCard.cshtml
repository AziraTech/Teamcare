@using teamcare.common.Helpers
@model teamcare.business.Models.ServiceUserModel
<!--begin::Col-->
<style type="text/css">
/* common */
.ribbon {
  width: 150px;
  height: 150px;
  overflow: hidden;
  position: absolute;
}
.ribbon::before,
.ribbon::after {
  position: absolute;
  z-index: -1;
  content: '';
  display: block;
  border: 5px solid #2980b9;
}
.ribbon span {
  position: absolute;
  display: block;
  width: 225px;
  padding: 15px 0;
  background-color: #3498db;
  box-shadow: 0 5px 10px rgba(0,0,0,.1);
  color: #fff;
  font: 700 18px/1 'Lato', sans-serif;
  text-shadow: 0 1px 1px rgba(0,0,0,.2);
  text-transform: uppercase;
  text-align: center;
}

/* top left*/
.ribbon-top-left {
  top: -10px;
  left: -10px;
}
.ribbon-top-left::before,
.ribbon-top-left::after {
  border-top-color: transparent;
  border-left-color: transparent;
}
.ribbon-top-left::before {
  top: 0;
  right: 0;
}
.ribbon-top-left::after {
  bottom: 0;
  left: 0;
}
.ribbon-top-left span {
  right: -25px;
  top: 30px;
  transform: rotate(-45deg);
}

</style>
<div class="col-md-6 col-xxl-3">
    <!--begin::Card-->
    <a href="@Url.Action("Detail","ServiceUsers", new { id = @Model.Id })" class="fs-4 text-gray-800 text-hover-primary fw-bolder mb-0">
        <div class="card">
            @if (Model.ArchivedOn != null)
            {
                <div class="ribbon ribbon-top-left"><span>Archive</span></div>
            }
            <!--begin::Card body-->
            <div class="card-body d-flex flex-center flex-column pt-12 p-9">
                <!--begin::Avatar-->
                <div class="symbol symbol-65px symbol-circle mb-5">
                    <img src="@(Model.ProfilePhoto !=null ? Model.PrePath+"/"+Model.ProfilePhoto.BlobName+"?width=200":"../../media/avatars/blank.png" )" alt="image" />
                </div>
                <!--end::Avatar-->
                <!--begin::Name-->
                <div class="flex-row flex-center">
                    @{ var idName = @Model.Id; }
                    <img id="@idName" src="@( !Model.Favourite ? " /media/svg/files/off_favourite_star.svg" : "/media/svg/files/on_favourite_star.svg" )"
                         onclick="event.preventDefault();setAsFavourite('@Model.Id', '@idName');" class="h-15px align-self-center mx-1 cursor-pointer" alt="" />
                    &nbsp;@Model.Title.GetEnumDescription() @Model.FirstName @Model.LastName
                </div>
                <!--end::Name-->
                <!--begin::Position-->
                <div class="fw-bold text-gray-400 mb-6">@(Model.Residence != null ? Model.Residence.Name : "")</div>
                <!--end::Position-->
            </div>
            <!--end::Card body-->
        </div>
        <!--end::Card-->
    </a>
</div>
<!--end::Col-->